<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white">
<nav class="fixed right-6 top-1/2 -translate-y-1/2 z-50">
  <div class="bg-black/90 border border-white/10 rounded-2xl shadow-xl
              flex flex-col gap-3 p-4">
    <%if(user){%>
      <a href="/user/<%= user.userid %>"
      class="px-4 py-2 text-sm font-bold text-white bg-yellow-600
             rounded-xl hover:bg-yellow-700 transition text-center">
      Home
    </a>
      <a href="/profile/<%= user.userid %>"
      class="px-4 py-2 text-sm font-bold text-white bg-green-600
             rounded-xl hover:bg-green-700 transition text-center">
      Profile
    </a>
    <a href="/posts/<%=user.userid%>"
      class="px-4 py-2 text-sm font-bold text-white bg-gray-700
             rounded-xl hover:bg-gray-600 transition text-center">
      My Posts
    </a>

    <a href="/post/create/<%=user.userid%>"
      class="px-4 py-2 text-sm font-bold text-white bg-purple-600
             rounded-xl hover:bg-purple-700 transition text-center">
      Create Post
    </a>
    <%}else{%><a href="/"
      class="px-4 py-2 text-sm font-bold text-white bg-indigo-600
             rounded-xl hover:bg-indigo-700 transition text-center">
      Login/Register
    </a><%}%>
    <a href="/admin"
      class="px-4 py-2 text-sm font-bold text-white bg-red-600
             rounded-xl hover:bg-red-700 transition text-center">
      Admin
    </a>
  </div>
</nav>
<header class="p-6 bg-black border-b border-gray-700 flex justify-between">
  <h1 class="text-2xl font-bold text-red-500">Admin Dashboard</h1>
  <a href="/logout" class="text-red-400 hover:text-red-600">Logout</a>
</header>

<section class="p-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    <% users.forEach(function(val){%>
        <div class="bg-black border border-gray-700 rounded-2xl p-6 shadow-lg hover:scale-105 transition">
            <div class="w-20 h-20 rounded-full bg-white text-black 
            flex items-center justify-center text-2xl font-bold mb-4">
            <%= val.name.split(" ").map(w => w[0]).join("").toUpperCase() %>
            </div>
            <h2 class="text-xl font-bold"><%= val.name %></h2>
            <p class="text-gray-400 text-sm"><%= val.email %></p>
            <div class="mt-4 space-y-1 text-sm">
            <p>Mobile: <%=val.mobile%></p>
            <p>Age: <%=val.age%></p>
            <p>Gender: <%=val.gender%></p>
            </div>
            <div class="flex gap-3 mt-6">
            <a href="/admin/edit/<%=val._id%>"
                class="flex-1 text-center bg-blue-600 py-2 rounded-lg hover:bg-blue-700">
                Edit
            </a>
            <form action="/admin/delete/<%=val._id%>" method="POST" class="flex-1">
                <button
                class="w-full bg-red-600 py-2 rounded-lg hover:bg-red-700"
                onclick="return confirm('Delete this user?')">
                Delete
                </button>
            </form>
            </div>
        </div>
    <%}) %>
</section>
</body>
</html>
